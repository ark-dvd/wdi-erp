// ================================================
// Contact Constants
// Version: 20260126-V3-CATEGORIES
// Major restructuring: Contact types now have category-specific lists
// Removed "מפקח" contact type
// "יועץ" renamed to "משרדי ייעוץ תכנון והנדסה"
// ================================================

// סוג ארגון - מגזר/צורה משפטית (מיון א-ת)
export const ORG_TYPES = [
  'חברה פרטית',
  'חברה ציבורית',
  'משטרה',
  'משרד ממשלתי',
  'עמותה',
  'עצמאי',
  'צבא',
  'רשות מקומית',
] as const

// סוגי אנשי קשר - 6 סוגים (בחירה מרובה מותרת)
export const CONTACT_TYPES = [
  'משרדי ייעוץ תכנון והנדסה',
  'קבלן',
  'ספק',
  'יזם',
  'לקוח',
  'אחר',
] as const

// קטגוריות לפי סוג איש קשר
// כל רשימה תומכת בבחירה מרובה

export const CATEGORIES_CONSULTANT = [
  'אבן ושיש',
  'אדריכלות - בינוי ערים (תב"ע)',
  'אדריכלות מבנים',
  'אדריכלות נוף ופיתוח',
  'אדריכלות פנים (עיצוב)',
  'אחזקה ותפעול',
  'איטום',
  'איכות סביבה וחומרים מסוכנים',
  'אינסטלציה וסניטריה',
  'אלומיניום ומעטפת',
  'אמנות במבנה',
  'אנרגיה (גז ודלק)',
  'אקוסטיקה',
  'אקלימי / תרמי',
  'אשפה ופינוי פסולת',
  'בטון',
  'בטיחות אש',
  'ביקורת ריתוכים',
  'בנייה ירוקה וקיימות',
  'בקרת איכות',
  'גזים רפואיים ואוויר דחוס',
  'גינון',
  'הגנה קתודית (שיתוך/קורוזיה)',
  'הדמיות',
  'הלכה וטכנולוגיה (שבת/כשרות)',
  'הסעדה (מטבחים)',
  'הצללה ותריסים',
  'התייעלות אנרגטית',
  'חשמל',
  'חשמל - מתח נמוך מאוד ואבטחה',
  'כבישים ודרכים',
  'כיבוי אש אוטומטי (ספרינקלרים)',
  'לוחות זמנים',
  'מדידות (מודד מוסמך)',
  'מטלורגיה (חומרים)',
  'מיגון וביטחון פיזי',
  'מידול (בניית מודלים)',
  'מיזוג אוויר ואוורור',
  'מנהור ותת-קרקע',
  'מעליות ותחבורה אנכית',
  'מערכות הסקה',
  'מתקני הרמה ושינוע',
  'מתקני ספורט',
  'נגישות (מתו"ס ושירות)',
  'ניהול פרויקטים ותיאום תכנון',
  'פיקוח',
  'צבע וגמרים',
  'קונסטרוקציה - גשרים',
  'קונסטרוקציה - טרומי',
  'קונסטרוקציה - מבנה פלדה',
  'קונסטרוקציה - מבנים כללי',
  'קרינה (סלולר/חשמל)',
  'קרקע - מבנים',
  'קרקע - תשתיות (כבישים ומסלולים)',
  'שילוט והכוונה',
  'שערים ומחסומים',
  'תאורה',
  'תיאום מערכות (סופרפוזיציה)',
  'תנועה ותחבורה',
  'תקשוב ותקשורת',
] as const // 60 items

export const CATEGORIES_CONTRACTOR = [
  'אבן ושיש',
  'איטום',
  'אינסטלציה וסניטריה',
  'אלומיניום וזגגות',
  'גבס ותקרות',
  'גידור וגדרות',
  'גילוי וכיבוי אש',
  'גינון ופיתוח שטח',
  'דלתות ומנעולים',
  'הריסה ופינוי',
  'זיון וברזל',
  'חיפוי וריצוף',
  'חשמל',
  'טפסנות',
  'יציקת בטון',
  'מיזוג אוויר ואוורור',
  'מעליות',
  'מערכות הסקה',
  'מערכות מתח נמוך ואבטחה',
  'מתכת ופלדה',
  'ניקוז ותיעול',
  'עבודות גמר',
  'עבודות עפר ופיתוח',
  'עבודות שלד',
  'עמידות אש',
  'פיגומים',
  'צבע וגמרים',
  'קבלן משנה - כללי',
  'קבלן ראשי',
  'קונסטרוקציה - בטון',
  'קונסטרוקציה - גשרים',
  'קונסטרוקציה - טרומי',
  'קונסטרוקציה - פלדה',
  'ריהוט מובנה',
  'תשתיות וכבישים',
] as const // 35 items

export const CATEGORIES_SUPPLIER = [
  'ביטוח',
  'הובלות ושליחויות',
  'חשבונאות והנהלת חשבונות',
  'טלפוניה ותקשורת',
  'כיבוד למשרד',
  'מדפסות ואחזקתן',
  'ניקיון',
  'עורכי דין',
  'פרסום ושיווק',
  'ציוד מחשוב',
  'ציוד משרדי',
  'רכבים (ליסינג/אחזקה)',
  'שירותי ענן ותוכנה',
  'תחזוקת מבנה משרד',
  'תמיכת IT',
] as const // 15 items

export const CATEGORIES_DEVELOPER = [
  'אנרגיה',
  'התחדשות עירונית',
  'מגורים',
  'מלונאות ותיירות',
  'מסחרי',
  'משרדים',
  'ציבורי וממשלתי',
  'תעשייה ולוגיסטיקה',
  'תשתיות',
] as const // 9 items

export const CATEGORIES_CLIENT = [
  'אקדמי / חינוך',
  'ביטחוני (צבא, משטרה)',
  'חברה עסקית',
  'ממשלתי',
  'עירוני / רשות מקומית',
  'פרטי',
  'ציבורי (עמותה, מוסד)',
] as const // 7 items

// "אחר" has no predefined list — free text field

// Helper function to get categories for selected contact types
export function getCategoriesForTypes(selectedTypes: string[]): string[] {
  const allCategories = new Set<string>()

  selectedTypes.forEach(type => {
    switch(type) {
      case 'משרדי ייעוץ תכנון והנדסה':
        CATEGORIES_CONSULTANT.forEach(c => allCategories.add(c))
        break
      case 'קבלן':
        CATEGORIES_CONTRACTOR.forEach(c => allCategories.add(c))
        break
      case 'ספק':
        CATEGORIES_SUPPLIER.forEach(c => allCategories.add(c))
        break
      case 'יזם':
        CATEGORIES_DEVELOPER.forEach(c => allCategories.add(c))
        break
      case 'לקוח':
        CATEGORIES_CLIENT.forEach(c => allCategories.add(c))
        break
    }
  })

  // Return sorted array (Hebrew א-ת)
  return Array.from(allCategories).sort((a, b) => a.localeCompare(b, 'he'))
}

// Check if "אחר" is the only selected type
export function isOnlyOtherType(selectedTypes: string[]): boolean {
  return selectedTypes.length === 1 && selectedTypes[0] === 'אחר'
}

// Check if "אחר" is among selected types
export function hasOtherType(selectedTypes: string[]): boolean {
  return selectedTypes.includes('אחר')
}

// Migration map from old contact type values to new
export const CONTACT_TYPE_MIGRATION_MAP: Record<string, string> = {
  'יועץ': 'משרדי ייעוץ תכנון והנדסה',
  // 'מפקח' is removed - needs special handling in migration
}

// Migration map from old discipline values to new category values
export const CATEGORY_MIGRATION_MAP: Record<string, string> = {
  // Old disciplines mapped to new categories
  'אדריכלות - בינוי': 'אדריכלות - בינוי ערים (תב"ע)',
  'אדריכלות - בינוי ערים ותב"ע': 'אדריכלות - בינוי ערים (תב"ע)',
  'אדריכלות - מבנים': 'אדריכלות מבנים',
  'אדריכלות - פנים': 'אדריכלות פנים (עיצוב)',
  'אדריכלות נוף ופיתוח שטח': 'אדריכלות נוף ופיתוח',
  'בנייה ירוקה (בניה בת קיימא)': 'בנייה ירוקה וקיימות',
  'בניה בת קיימא (בניה ירוקה)': 'בנייה ירוקה וקיימות',
  'ייעוץ בנייה ירוקה וקיימות': 'בנייה ירוקה וקיימות',
  'קונסטרוקציה': 'קונסטרוקציה - מבנים כללי',
  'קונסטרוקציה (הנדסה אזרחית)': 'קונסטרוקציה - מבנים כללי',
  'הנדסת קרקע וביסוס': 'קרקע - מבנים',
  'ייעוץ קרקע וביסוס (גיאוטכניקה)': 'קרקע - מבנים',
  'הנדסת דרכים': 'כבישים ודרכים',
  'תכנון כבישים ודרכים': 'כבישים ודרכים',
  'הנדסת תנועה ותחבורה': 'תנועה ותחבורה',
  'ייעוץ תנועה ותחבורה': 'תנועה ותחבורה',
  'מנהור': 'מנהור ותת-קרקע',
  'הנדסת מנהור ותת-קרקע': 'מנהור ותת-קרקע',
  'מודד מוסמך': 'מדידות (מודד מוסמך)',
  'מדידות (מודד מוסמך)': 'מדידות (מודד מוסמך)',
  'חשמל': 'חשמל',
  'הנדסת חשמל': 'חשמל',
  'תאורה': 'תאורה',
  'ייעוץ תאורה': 'תאורה',
  'מתח נמוך מאוד - ביטחון': 'חשמל - מתח נמוך מאוד ואבטחה',
  'מנ"מ (מתח נמוך מאוד) ואבטחה': 'חשמל - מתח נמוך מאוד ואבטחה',
  'תקשוב': 'תקשוב ותקשורת',
  'ייעוץ תקשוב ותקשורת': 'תקשוב ותקשורת',
  'מיזוג אויר, חימום ואוורור': 'מיזוג אוויר ואוורור',
  'מיזוג אוויר ואוורור (HVAC)': 'מיזוג אוויר ואוורור',
  'מתקנים תרמיים ותברואיים': 'אינסטלציה וסניטריה',
  'מתזים (ספרינקלרים)': 'כיבוי אש אוטומטי (ספרינקלרים)',
  'מערכות דלק וגז': 'אנרגיה (גז ודלק)',
  'תכנון מערכות אנרגיה (גז ודלק)': 'אנרגיה (גז ודלק)',
  'מתקני הסקה': 'מערכות הסקה',
  'מתקני אויר דחוס וגזים רפואיים': 'גזים רפואיים ואוויר דחוס',
  'אלומיניום וזכוכית': 'אלומיניום ומעטפת',
  'ייעוץ אלומיניום ומעטפת': 'אלומיניום ומעטפת',
  'איטום': 'איטום',
  'ייעוץ איטום': 'איטום',
  'תריסים': 'הצללה ותריסים',
  'ייעוץ הצללה ותריסים': 'הצללה ותריסים',
  'בטיחות': 'בטיחות אש',
  'יועץ בטיחות אש (כללי)': 'בטיחות אש',
  'בטיחות וקרינה אלקטרומגנטית': 'קרינה (סלולר/חשמל)',
  'ייעוץ קרינה (סלולר/חשמל)': 'קרינה (סלולר/חשמל)',
  'אקוסטיקה': 'אקוסטיקה',
  'ייעוץ אקוסטיקה': 'אקוסטיקה',
  'נגישות': 'נגישות (מתו"ס ושירות)',
  'ייעוץ נגישות (מתו"ס ושירות)': 'נגישות (מתו"ס ושירות)',
  'מעליות': 'מעליות ותחבורה אנכית',
  'ייעוץ מעליות ותחבורה אנכית': 'מעליות ותחבורה אנכית',
  'מטבחים': 'הסעדה (מטבחים)',
  'תכנון מערכות הסעדה (מטבחים)': 'הסעדה (מטבחים)',
  'אשפה': 'אשפה ופינוי פסולת',
  'ייעוץ אשפה ופינוי פסולת': 'אשפה ופינוי פסולת',
  'חסכון באנרגיה': 'התייעלות אנרגטית',
  'ייעוץ התייעלות אנרגטית': 'התייעלות אנרגטית',
  'אקלים': 'אקלימי / תרמי',
  'ייעוץ אקלימי / תרמי': 'אקלימי / תרמי',
  'הגנה בפני שיתוך': 'הגנה קתודית (שיתוך/קורוזיה)',
  'הגנה קתודית (שיתוך/קורוזיה)': 'הגנה קתודית (שיתוך/קורוזיה)',
  'מטלורגיה': 'מטלורגיה (חומרים)',
  'ייעוץ מטלורגיה (חומרים)': 'מטלורגיה (חומרים)',
  'ריתוכים': 'ביקורת ריתוכים',
  'ביקורת ריתוכים': 'ביקורת ריתוכים',
  'מיגון': 'מיגון וביטחון פיזי',
  'ייעוץ מיגון וביטחון פיזי': 'מיגון וביטחון פיזי',
  'תכנון סביבתי, חומ"ס': 'איכות סביבה וחומרים מסוכנים',
  'איכות סביבה וחומרים מסוכנים': 'איכות סביבה וחומרים מסוכנים',
  'כשרות, הלכה ושבת': 'הלכה וטכנולוגיה (שבת/כשרות)',
  'ייעוץ הלכה וטכנולוגיה (שבת/כשרות)': 'הלכה וטכנולוגיה (שבת/כשרות)',
  'אמנות': 'אמנות במבנה',
  'שילוב אמנות במבנה': 'אמנות במבנה',
  'ייעוץ לתכנון מתקני ספורט': 'מתקני ספורט',
  'ייעוץ מתקני ספורט': 'מתקני ספורט',
  'שערים מיוחדים': 'שערים ומחסומים',
  'ייעוץ שערים ומחסומים': 'שערים ומחסומים',
  'שילוט': 'שילוט והכוונה',
  'ייעוץ שילוט והכוונה': 'שילוט והכוונה',
  'צבע': 'צבע וגמרים',
  'ייעוץ צבע וגמרים': 'צבע וגמרים',
  'לוחות זמנים': 'לוחות זמנים',
  'בקרת לוחות זמנים (לו"ז)': 'לוחות זמנים',
  'בקרת מבנה': 'בקרת איכות',
  'בקרת איכות הבנייה': 'בקרת איכות',
  'תיאום מערכות - סופרוויזיה': 'תיאום מערכות (סופרפוזיציה)',
  'תיאום מערכות (סופרפוזיציה)': 'תיאום מערכות (סופרפוזיציה)',
  'תכנון מותאם לתחזוקה': 'אחזקה ותפעול',
  'ייעוץ אחזקה ותפעול (Facility Mgmt)': 'אחזקה ותפעול',
  'ניהול ותיאום תכנון': 'ניהול פרויקטים ותיאום תכנון',
  'מתקני הרמה ושינוע': 'מתקני הרמה ושינוע',
}

// Type exports
export type OrgType = typeof ORG_TYPES[number]
export type ContactType = typeof CONTACT_TYPES[number]
export type CategoryConsultant = typeof CATEGORIES_CONSULTANT[number]
export type CategoryContractor = typeof CATEGORIES_CONTRACTOR[number]
export type CategorySupplier = typeof CATEGORIES_SUPPLIER[number]
export type CategoryDeveloper = typeof CATEGORIES_DEVELOPER[number]
export type CategoryClient = typeof CATEGORIES_CLIENT[number]

// Legacy export for backward compatibility with existing code
// Maps to CATEGORIES_CONSULTANT for the main list (most comprehensive)
export const DISCIPLINES = CATEGORIES_CONSULTANT
export type Discipline = CategoryConsultant
